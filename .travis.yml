
language: generic
sudo: required
services:
- docker

matrix:
  include:
  - os: linux
    dist: xenial

addons:
  apt:
    update: true
    package:
    - build-essential
    - git
    - curl
    - zip
    - unzip

script: ./scripts/ci_build.sh
skip_cleanup: true

before_deploy:
- pip install --user awscli
- export PATH=$PATH:$HOME/.local/bin

deploy:
  provider: script
  skip_cleanup: true
  script:
  - ./scripts/ci_deploy.sh
  on:
    branch: feat/ci_build_improvement
